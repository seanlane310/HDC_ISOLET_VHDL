%%Frequency Bin Creation Test

r = audiorecorder(44100,16,1);
record(r);
fprintf("1");
pause(2);
stop(r);
y = getaudiodata(r,'double');

%% Do Processing
plot(y);

pause(5);

N = 0:length(y)-1;

X = fft(y); %need to trim it before get here
plot(abs(X(1:length(X)/16)));

Z = abs(X);

total = length(1:length(X)/16);
bins = 100;

binsize = total/bins;

for i = 1:bins
        average(i) = mean(Z((i*binsize)+1:((i+1)*binsize)));
end

fprintf("done");

plot(average);

%% Project Frequency Bins onto Hypervectors


%% Encode Hypervectors Together
%Permutate, add multiply (ppA + pB + C)

A = [1, 9, 4, 3, 7, 6, 4, 2, 9, 6, 17, 8, 3, 22, 47, 3, 9, 6, 2, 0];
%order = [2:20, 1];
%B = permute(A,order);
C = circshift(A,-1);

%D = plus(A,B);
%for z = 1:length(A)
%    D(z) = A(z) + B(z);
%end

D = A + B';
